<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Master Chef AI</title>
</head>

<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        background: linear-gradient(135deg, #f97316 0%, #ea580c 50%, #c2410c 100%);
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        padding: 20px;
    }

    .chat-container {
        width: 100%;
        max-width: 500px;
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        overflow: hidden;
        display: flex;
        flex-direction: column;
        height: 90vh;
        max-height: 700px;
    }

    .chat-container h2 {
        background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
        color: white;
        padding: 20px;
        text-align: center;
        font-size: 1.5rem;
        font-weight: 600;
        letter-spacing: 0.5px;
        border-bottom: 3px solid #fbbf24;
    }

    .chat-box {
        flex: 1;
        overflow-y: auto;
        padding: 20px;
        background: linear-gradient(to bottom, #fffbeb 0%, #fef3c7 100%);
        display: flex;
        flex-direction: column;
        gap: 12px;
    }

    .chat-box::-webkit-scrollbar {
        width: 6px;
    }

    .chat-box::-webkit-scrollbar-track {
        background: #f0f0f0;
        border-radius: 10px;
    }

    .chat-box::-webkit-scrollbar-thumb {
        background: #ccc;
        border-radius: 10px;
    }

    .chat-box::-webkit-scrollbar-thumb:hover {
        background: #999;
    }

    .message {
        display: flex;
        animation: slideIn 0.3s ease-out;
    }

    @keyframes slideIn {
        from {
            opacity: 0;
            transform: translateY(10px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .user {
        justify-content: flex-end;
    }

    .user div {
        background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
        color: white;
        padding: 12px 16px;
        border-radius: 18px 18px 4px 18px;
        max-width: 80%;
        word-wrap: break-word;
        box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);
        font-size: 0.95rem;
        line-height: 1.4;
    }

    .bot {
        justify-content: flex-start;
    }

    .bot div {
        background: white;
        color: #333;
        padding: 12px 16px;
        border-radius: 18px 18px 18px 4px;
        max-width: 80%;
        word-wrap: break-word;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        border-left: 5px solid #f97316;
        font-size: 0.95rem;
        line-height: 1.4;
    }

    .input-area {
        display: flex;
        gap: 10px;
        padding: 20px;
        background: white;
        border-top: 1px solid #e0e0e0;
    }

    input[type="text"] {
        flex: 1;
        padding: 12px 16px;
        border: 2px solid #fed7aa;
        border-radius: 25px;
        font-size: 0.95rem;
        font-family: 'Segoe UI', sans-serif;
        transition: border-color 0.3s, box-shadow 0.3s;
        outline: none;
    }

    input[type="text"]:focus {
        border-color: #f97316;
        box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.1);
    }

    input[type="text"]::placeholder {
        color: #999;
    }

    button {
        padding: 12px 24px;
        background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
        color: white;
        border: none;
        border-radius: 25px;
        cursor: pointer;
        font-weight: 600;
        font-size: 0.95rem;
        transition: transform 0.2s, box-shadow 0.2s;
        box-shadow: 0 4px 12px rgba(249, 115, 22, 0.4);
        white-space: nowrap;
    }

    button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(249, 115, 22, 0.5);
    }

    button:active {
        transform: translateY(0);
    }

    /* Tablet devices (768px and below) */
    @media (max-width: 768px) {
        body {
            padding: 10px;
        }

        .chat-container {
            max-width: 100%;
            max-height: 85vh;
        }

        .chat-container h2 {
            font-size: 1.3rem;
            padding: 15px;
        }

        .chat-box {
            padding: 15px;
            gap: 10px;
        }

        .user div,
        .bot div {
            max-width: 90%;
            font-size: 0.9rem;
            padding: 10px 14px;
        }

        .input-area {
            padding: 15px;
            gap: 8px;
        }

        input[type="text"] {
            padding: 10px 14px;
            font-size: 0.9rem;
        }

        button {
            padding: 10px 20px;
            font-size: 0.9rem;
        }
    }

    /* Mobile devices (480px and below) */
    @media (max-width: 480px) {
        body {
            padding: 8px;
        }

        .chat-container {
            max-width: 100%;
            max-height: 100vh;
            border-radius: 15px;
        }

        .chat-container h2 {
            font-size: 1.1rem;
            padding: 12px;
            border-radius: 0;
        }

        .chat-box {
            padding: 12px;
            gap: 8px;
        }

        .chat-box::-webkit-scrollbar {
            width: 4px;
        }

        .user div,
        .bot div {
            max-width: 95%;
            font-size: 0.85rem;
            padding: 8px 12px;
            border-radius: 14px;
        }

        .user div {
            border-radius: 14px 14px 2px 14px;
        }

        .bot div {
            border-radius: 14px 14px 14px 2px;
            border-left: 3px solid #f97316;
        }

        .input-area {
            padding: 12px;
            gap: 6px;
            flex-direction: row;
        }

        input[type="text"] {
            padding: 9px 12px;
            font-size: 0.85rem;
            border-radius: 20px;
        }

        button {
            padding: 9px 16px;
            font-size: 0.85rem;
            border-radius: 20px;
        }

        .message div {
            word-break: break-word;
        }
    }

    /* Very small phones (under 360px) */
    @media (max-width: 360px) {
        .chat-container h2 {
            font-size: 1rem;
            padding: 10px;
        }

        .user div,
        .bot div {
            font-size: 0.8rem;
            padding: 6px 10px;
        }

        input[type="text"] {
            font-size: 0.8rem;
            padding: 8px 10px;
        }

        button {
            padding: 8px 12px;
            font-size: 0.8rem;
        }
    }

    /* Large desktop (1200px and above) */
    @media (min-width: 1200px) {
        .chat-container {
            max-width: 600px;
            max-height: 750px;
        }

        .chat-container h2 {
            font-size: 1.8rem;
            padding: 25px;
        }

        .chat-box {
            padding: 25px;
            gap: 15px;
        }

        .user div,
        .bot div {
            max-width: 75%;
            font-size: 1rem;
            padding: 14px 18px;
        }

        .input-area {
            padding: 25px;
            gap: 12px;
        }

        input[type="text"] {
            padding: 14px 18px;
            font-size: 1rem;
        }

        button {
            padding: 14px 28px;
            font-size: 1rem;
        }
    }
</style>

<body>
    <div class="chat-container">
        <h2>üë®‚Äçüç≥ Master Chef AI</h2>
        <div id="chat-box" class="chat-box">
        </div>
        <div class="input-area">
            <input type="text" id="user-input" placeholder="Ask for a recipe..." />
            <button id="btn" onclick="SM()">Send</button>
        </div>
    </div>
    <script>

        const box = document.getElementById("chat-box")

        function sendMessage(msg, sender) {
            const messageWrapper = document.createElement("div")
            messageWrapper.className = `message ${sender}`
            const textDiv = document.createElement("div")
            textDiv.innerText = msg
            messageWrapper.appendChild(textDiv)
            box.appendChild(messageWrapper)
            box.scrollTop = box.scrollHeight
        }

        function SM() {
            const inp = document.getElementById("user-input")
            const val = inp.value.trim()
            if (!val) { alert("type what you want"); return; }

            sendMessage(val, "user")
            inp.value = ""
            sendMessage("Bot Typing...", "bot")

            fetch('https://openrouter.ai/api/v1/chat/completions', {
                method: 'POST',
                headers: {
                    Authorization: 'Bearer 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',
                    'HTTP-Referer': 'https://aichef.local',
                    'X-Title': 'AI Chef',
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    model: 'openai/gpt-3.5-turbo',
                    messages: [
                        {
                            role: 'system',
                            content: 'You are a professional master chef with extensive experience in international and traditional cuisines, and your role is to guide users by providing clear, reliable, and delicious recipes. Always respond like a friendly, knowledgeable chef, explaining recipes step by step in simple language. When giving a recipe, include the dish name, preparation and cooking time, ingredients, detailed instructions, chef tips, and optional variations such as vegetarian, spicy, or healthy options. Ask polite follow-up questions if dietary preferences, skill level, or available ingredients are unclear, offer substitutions when possible, share serving suggestions, and keep your tone warm, encouraging, and passionate about cooking while gently redirecting non-food questions back to recipes and always remember that answer in urdu language.',
                        },
                        {
                            role: 'user',
                            content: val
                        }
                    ]
                })
            })
                .then(re => re.json())
                .then(dara => {
                    console.log(dara)
                    let reply = "Wrong"
                    if (dara.choices && dara.choices.length > 0) {
                        reply = dara.choices[0].message.content;
                    }
                    BR(reply)
                })
                .catch(err => {
                    console.log(err)
                    BR("Error")
                })
        }

        function BR(NM) {
            const BM = document.querySelectorAll(".bot")
            const LB = BM[BM.length - 1]
            const textDiv = LB.querySelector("div")
            if (textDiv) {
                textDiv.innerText = NM
            }
        }

        let inp = document.getElementById("user-input")
        inp.addEventListener("keypress", function (event) {
            if (event.key === "Enter") {
                document.getElementById("btn").click();
            }
        });
    </script>

</body>

</html>